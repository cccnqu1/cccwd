<html>
<head>
  <meta charset="utf-8" />
</head>
<body>
<script src="../../gospa.js"></script>
<title>/ 物件</title>



<h1 id="">物件</h1>

<h2 id="">封裝</h2>

<p>範例一：人的體重</p>

<pre><code class="java">class Object1 {
    public static void main(String args[]) {
        Person1 p1, p2;
        p1 = new Person1("大雄", 50);
        p2 = new Person1("胖虎", 80);
        p1.checkWeight();
        p2.checkWeight();
        p2.weight = 68;
        p1.checkWeight();
        p2.checkWeight();
    }
}

class Person1 {
    String name;
    int weight;

    Person1(String pName, int pWeight) {
        name   = pName;
        weight = pWeight;
    }

    void checkWeight() {
        System.out.print(name+"體重 "+weight+" 公斤,");
        if (weight &lt; 70) 
        System.out.println("很苗條!");
        else
        System.out.println("很穩重!");
    }
}
</code></pre>

<h2 id="">繼承</h2>

<h2 id="">多型</h2>

<ul>
<li>範例程式：Zoo.java</li>
</ul>

<pre><code class="java">abstract class Animal {
  abstract void speak();
}

class Cat extends Animal {
  void speak() {
     System.out.println("喵喵!");
  }
}

class Dog extends Animal {
  void speak() {
     System.out.println("汪汪!");
  }
}

class Zoo {
  public static void main(String[] args) {
    Cat c1 = new Cat();
    Animal[] animals = new Animal[] { new Cat(), 
     new Dog(), new Dog(), new Cat(), new Dog() };
    for (int i=0; i&lt;animals.length; i++) {
      animals[i].speak();
    }    
  }
}
</code></pre>

<p>執行結果</p>

<pre><code>D:\ccc\JA&gt;javac Zoo.java

D:\ccc\JA&gt;java Zoo
喵喵!
汪汪!
汪汪!
喵喵!
汪汪!
</code></pre>

<h2 id="">延伸</h2>

<pre><code class="java">abstract class Animal {
  String name="";
  abstract void speak(); 
/*  {
     System.out.println("未定義！");
  } */
}

interface Printable {
  void print();
}

class Cat extends Animal implements Printable {
  public Cat() {
      name = "貓";
  }

  public void speak() {
     System.out.println("喵喵!");
  }

  public void print() {
     System.out.print(name+"：");
     speak();
  }
}

class Dog extends Animal implements Printable {
  public Dog() {
      name = "狗";
  }

  public void speak() {
     System.out.println("汪汪!");
  }

  public void print() {
        System.out.print(name+"：");
        speak();
  }
}

class Zoo {
  public static void main(String[] args) {
//    Animal a = new Animal();
//    a.speak();
    Cat c1 = new Cat();
    System.out.println("=============c1.speak()===============");
    c1.speak();
    System.out.println("=============Dogs, Cats, speak()======");
    Animal[] animals = new Animal[] { new Cat(), new Dog(), 
           new Dog(), new Cat(), new Dog() };
    for (int i=0; i&lt;animals.length; i++) {
      animals[i].speak();
    }    
    System.out.println("=============Dogs, Cats, print()======");
    Printable[] pa = new Printable[] { new Cat(), new Dog(), 
       new Dog(), new Cat(), new Dog() };
    for (int i=0; i&lt;animals.length; i++) {
        pa[i].print();
    }    
  }
}
</code></pre>

<h2 id="">範例：矩陣物件</h2>

<pre><code class="java">class Matrix2 {
  public static void main(String[] args) {
    double A[][] = {{1,2}, {3,4}};
    double B[][] = {{5,6}, {7,8}};
    double C[][] = new double[2][2];
    double D[][] = new double[2][2];
    add(A, B, C);
    System.out.println("========C========");
    print(C);
    dot(A, B, D);
    System.out.println("========D========");
    print(D);
    double sum = sum(D);
    System.out.println("sum(D)="+sum);
    not(D);
    System.out.println("========not(D)========");
    print(D);
  }

  public static void print(double A[][]) 
  {
    for (int i=0; i&lt;A.length; i++) 
    {
      for (int j=0; j&lt;A[0].length; j++) 
         System.out.print(A[i][j]+" ");
      System.out.println();
    }
  }

  public static void not(double A[][]) 
  {
    for (int i=0; i&lt;A.length; i++) 
      for (int j=0; j&lt;A[0].length; j++) 
        A[i][j] = -A[i][j];
  }

  public static double sum(double A[][]) 
  {
    double total = 0;
    for (int i=0; i&lt;A.length; i++) 
      for (int j=0; j&lt;A[0].length; j++) 
        total += A[i][j];
    return total;
  }

  public static void add(double A[][], double B[][], double C[][]) 
  {
    for (int i=0; i&lt;A.length; i++) 
      for (int j=0; j&lt;A[0].length; j++) 
        C[i][j] = A[i][j] + B[i][j];
  }

  public static void dot(double A[][], double B[][], double C[][]) 
  {
    for (int i=0; i&lt;C.length; i++) 
      for (int j=0; j&lt;C[0].length; j++) 
      {
        double sum = 0;
        for (int k=0; k&lt;2; k++) 
            sum = sum+A[i][k]*B[k][j];
        C[i][j] = sum;
      }
  }
}
</code></pre>

<h2 id="">習題：物件導向練習</h2>

<p><a href="#ja:code " class="innerLink">code </a>
  1. 定義一個人(Person)的類別，具有姓名(name),電話(tel),郵件(email)等三個欄位.
  2. 定義一個學生(Student)的類別，學生類別繼承人的類別，並具有 學校、科系與學號.
  3. 寫一個主程式，將 Person("路人甲"), Student("學生乙"), Person("路人丙"), Student("學生丁")
     存入 persons 陣列中，並將該陣列印出來.</p>

<p>參考 :</p>

<p>class Person {
    ...
    String toString() {
       ...
    }
  }</p>

<p>class Student {
    ...
    String toString() {
      ...
    }
  }
``` </p>

</body>
</html>